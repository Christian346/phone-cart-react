{"version":3,"sources":["reducer.js","context.js","data.js","Navbar.js","CartItem.js","CartContainer.js","App.js","index.js"],"names":["reducer","state","action","type","cart","filter","cartItem","id","payload","tempCart","map","amount","reduce","cartTotal","price","itemTotal","total","parseFloat","toFixed","loading","Error","AppContext","React","createContext","initialState","title","img","AppProvider","children","useReducer","dispatch","fetchData","a","fetch","response","json","useEffect","Provider","value","clearCart","remove","toggleAmount","useGlobalContext","useContext","Navbar","className","xmlns","viewBox","d","CartItem","increase","decrease","src","alt","onClick","CartContainer","length","item","key","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kNA8FeA,EA9FC,SAACC,EAAMC,GACvB,GAAmB,eAAhBA,EAAOC,KACN,OAAO,2BAAIF,GAAX,IAAiBG,KAAK,KAG1B,GAAmB,WAAhBF,EAAOC,KACN,OAAO,2BAAIF,GAAX,IAAiBG,KAAKH,EAAMG,KAAKC,QAAO,SAACC,GAAD,OAAaA,EAASC,KAAOL,EAAOM,aAOhF,GAAmB,kBAAhBN,EAAOC,KAAyB,CAC/B,IAAIM,EAAWR,EAAMG,KAAKM,KAAI,SAACJ,GAC3B,GAAGA,EAASC,KAAOL,EAAOM,QAAQD,GAAG,CACjC,GAA0B,QAAvBL,EAAOM,QAAQL,KAChB,OAAO,2BAAIG,GAAX,IAAoBK,OAAOL,EAASK,OAAQ,IAE7C,GAA0B,QAAvBT,EAAOM,QAAQL,KACd,OAAO,2BAAIG,GAAX,IAAoBK,OAAOL,EAASK,OAAQ,IAGrD,OAAOL,KACRD,QAAO,SAACC,GAAD,OAAiC,IAApBA,EAASK,UAChC,kCAAWV,GAAX,IAAiBG,KAAKK,IA+B1B,GAAkB,eAAfP,EAAOC,KAAqB,CAAC,IAAD,EACNF,EAAMG,KAAKQ,QAC5B,SAACC,EAAUP,GAAY,IAEjBQ,EAAgBR,EAAhBQ,MAAMH,EAAUL,EAAVK,OAELI,EAAYD,EAAQH,EAK3B,OAHCE,EAAUG,OAASD,EACnBF,EAAUF,QAAUA,EAEdE,IAEX,CACAG,MAAM,EACLL,OAAO,IAdHK,EADsB,EACtBA,MAAOL,EADe,EACfA,OAmBZ,OADAK,EAAQC,WAAWD,EAAME,QAAQ,IAC1B,2BAAIjB,GAAX,IAAkBe,QAAML,WAI5B,GAAmB,YAAhBT,EAAOC,KACN,kCAAUF,GAAV,IAAgBkB,SAAQ,IAG5B,GAAmB,kBAAhBjB,EAAOC,KACN,kCAAUF,GAAV,IAAgBG,KAAKF,EAAOM,QAAQW,SAAS,IAMjD,MAAM,IAAIC,MAAM,6BCrFVC,EAAaC,IAAMC,gBAEnBC,EAAc,CAClBL,SAAQ,EACRf,KCVa,CACb,CACEG,GAAI,EACJkB,MAAO,oBACPX,MAAO,OACPY,IACE,mFACFf,OAAQ,GAEV,CACEJ,GAAI,EACJkB,MAAO,gBACPX,MAAO,OACPY,IACE,mFACFf,OAAQ,GAEV,CACEJ,GAAI,EACJkB,MAAO,sBACPX,MAAO,OACPY,IACE,mFACFf,OAAQ,IDZVK,MAAM,EACNL,OAAO,GAIHgB,EAAc,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAAe,EACVC,qBAAW7B,EAAUwB,GADX,mBAC7BvB,EAD6B,KACtB6B,EADsB,KA6BhCC,EAAS,uCAAE,8BAAAC,EAAA,6DACfF,EAAS,CAAC3B,KAAK,YADA,SAEQ8B,MA1Cb,wDAwCK,cAETC,EAFS,gBAGIA,EAASC,OAHb,OAGT/B,EAHS,OAIf0B,EAAS,CAAC3B,KAAK,gBAAiBK,QAAQJ,IAJzB,2CAAF,qDAsBb,OAZFgC,qBAAU,WACRL,MACA,IAIFK,qBAAU,WACRN,EAAS,CAAC3B,KAAM,iBAEhB,CAAEF,EAAMG,OAIN,kBAACiB,EAAWgB,SAAZ,CACEC,MAAK,2BAEArC,GAFA,IAGHsC,UAnDW,WACjBT,EAAS,CAAC3B,KAAK,gBAmDTqC,OA/CO,SAACjC,GACduB,EAAS,CAAC3B,KAAK,SAAWK,QAASD,KAiD7BkC,aArCa,SAAClC,EAAIJ,GAC1B2B,EAAS,CAAC3B,KAAK,gBAAgBK,QAAQ,CAACD,KAAGJ,cAuCpCyB,IAKMc,EAAmB,WAC9B,OAAOC,qBAAWtB,IE9DLuB,EArBA,WAAO,IAEbjC,EAAU+B,IAAV/B,OAEP,OACE,6BACE,yBAAKkC,UAAU,cACb,8CACA,yBAAKA,UAAU,iBACb,yBAAKC,MAAM,6BAA6BC,QAAQ,aAC9C,0BAAMC,EAAE,uGAEV,yBAAKH,UAAU,oBACb,uBAAGA,UAAU,gBAAgBlC,QC6B1BsC,EA1CE,SAAC,GAAuC,IAArC1C,EAAoC,EAApCA,GAAImB,EAAgC,EAAhCA,IAAKD,EAA2B,EAA3BA,MAAOX,EAAoB,EAApBA,MAAOH,EAAa,EAAbA,OAAa,EAGR+B,IAAzCF,EAHiD,EAGjDA,OAAyBC,GAHwB,EAG1CS,SAH0C,EAGjCC,SAHiC,EAGxBV,cAK9B,OACE,6BAASI,UAAU,aACjB,yBAAKO,IAAK1B,EAAK2B,IAAK5B,IACpB,6BACE,4BAAKA,GACL,wBAAIoB,UAAU,cAAd,IAA6B/B,GAE7B,4BACE+B,UAAU,aACVS,QAAS,kBAAMd,EAAOjC,KAFxB,WAOF,6BAEE,4BAAQsC,UAAU,aAAaS,QAAS,kBAAuBb,EAAalC,EAAG,SAC7E,yBAAKuC,MAAM,6BAA6BC,QAAQ,aAC9C,0BAAMC,EAAE,iFAIZ,uBAAGH,UAAU,UAAUlC,GAEvB,4BAAQkC,UAAU,aAAaS,QAAS,kBAAuBb,EAAalC,EAAG,SAC7E,yBAAKuC,MAAM,6BAA6BC,QAAQ,aAC9C,0BAAMC,EAAE,oFCaLO,EA7CO,WAAO,IAAD,EACUb,IAA5BtC,EADkB,EAClBA,KAAOY,EADW,EACXA,MAAQuB,EADG,EACHA,UAEvB,OAAoB,IAAhBnC,EAAKoD,OAEL,6BAASX,UAAU,QAEjB,gCACE,wCACA,wBAAIA,UAAU,cAAd,wBAMN,6BAASA,UAAU,QAEjB,gCACE,yCAGF,6BACGzC,EAAKM,KAAI,SAAC+C,GACT,OAAO,kBAAC,EAAD,eAAUC,IAAKD,EAAKlD,IAAQkD,QAIvC,gCACE,6BACA,yBAAKZ,UAAU,cACb,qCACQ,8BAAO7B,EAAP,QAGV,4BACE6B,UAAU,gBACVS,QAASf,GAFX,iBCVOoB,MApBf,WAIE,OAHgBjB,IAAVvB,QAKD,yBAAK0B,UAAU,WACd,2CAMJ,8BACE,kBAAC,EAAD,MACA,kBAAC,EAAD,QClBNe,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,KACE,kBAAC,EAAD,QAGJC,SAASC,eAAe,U","file":"static/js/main.4b9fdbda.chunk.js","sourcesContent":["const reducer = (state,action) =>{\r\nif(action.type === 'CLEAR_CART'){\r\n    return {...state,cart:[]} //change state to an empty array\r\n}\r\n\r\nif(action.type === 'REMOVE'){\r\n    return {...state,cart:state.cart.filter((cartItem)=> cartItem.id !== action.payload ),\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nif(action.type === 'TOGGLE_AMOUNT'){\r\n    let tempCart = state.cart.map((cartItem)=>{\r\n        if(cartItem.id === action.payload.id){\r\n            if(action.payload.type ==='inc'){\r\n              return {...cartItem,amount:cartItem.amount +1}\r\n            }\r\n             if(action.payload.type ==='dec'){\r\n                 return {...cartItem,amount:cartItem.amount -1}\r\n            }\r\n        }\r\n        return cartItem\r\n    }).filter((cartItem)=> cartItem.amount !== 0);\r\n    return{ ...state,cart:tempCart }\r\n}\r\n\r\n\r\n\r\n\r\n/*\r\nif(action.type ==='INCREASE'){\r\n let tempCart = state.cart.map((cartItem)=>{\r\n\r\n    if(cartItem.id === action.payload){\r\n        return {...cartItem, amount: cartItem.amount + 1}\r\n    }\r\n    return cartItem\r\n })\r\n return{...state, cart: tempCart}\r\n}\r\n\r\n\r\nif(action.type ==='DECREASE'){\r\n let tempCart = state.cart.map((cartItem)=>{\r\n\r\n    if(cartItem.id === action.payload){\r\n        return {...cartItem, amount: cartItem.amount - 1 }\r\n    }\r\n    return cartItem\r\n }).filter((cartItem) => cartItem.amount !== 0)\r\n return{...state, cart: tempCart}\r\n}\r\n*/\r\n\r\nif(action.type ==='GET_TOTALS'){\r\n    let {total, amount}= state.cart.reduce(\r\n        (cartTotal,cartItem)=>{\r\n\r\n        const{price,amount} = cartItem\r\n      \r\n         const itemTotal = price * amount;\r\n         \r\n         cartTotal.total += itemTotal;\r\n         cartTotal.amount += amount;\r\n\r\n        return cartTotal\r\n    },\r\n    {\r\n    total:0,\r\n     amount:0\r\n    }\r\n    )\r\n\r\n    total = parseFloat(total.toFixed(2))\r\n    return {...state, total,amount}\r\n}\r\n\r\n\r\nif(action.type === 'LOADING'){\r\n    return{...state,loading:true}\r\n}\r\n\r\nif(action.type === 'DISPLAY_ITEMS'){\r\n    return{...state,cart:action.payload,loading: false}\r\n}\r\n\r\n\r\n//return state \r\n\r\nthrow new Error('no matching action exist')\r\n}\r\n\r\nexport default reducer;","import React, { useState, useContext, useReducer, useEffect } from 'react'\r\nimport cartItems from './data'\r\nimport reducer from './reducer'\r\n// ATTENTION!!!!!!!!!!\r\n// I SWITCHED TO PERMANENT DOMAIN\r\nconst url = 'https://course-api.com/react-useReducer-cart-project'\r\nconst AppContext = React.createContext()\r\n\r\nconst initialState ={\r\n  loading:false,\r\n  cart:cartItems,\r\n  total:0,\r\n  amount:0\r\n\r\n}\r\n\r\nconst AppProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer , initialState)//lesson point\r\n\r\n\r\n\r\n const clearCart = ()=>{\r\n  dispatch({type:'CLEAR_CART'})\r\n }\r\n\r\n\r\n const remove =(id)=>{\r\n  dispatch({type:'REMOVE' , payload: id})\r\n }\r\n/*\r\nconst increase = (id)=>{\r\ndispatch({type:'INCREASE', payload: id})\r\n}\r\nconst decrease = (id)=>{\r\ndispatch({type:'DECREASE', payload: id})\r\n}\r\n\r\n*/\r\n\r\nconst toggleAmount = (id, type)=>{\r\ndispatch({type:'TOGGLE_AMOUNT',payload:{id,type}})\r\n}\r\n\r\n\r\n\r\nconst fetchData =async ()=>{\r\n  dispatch({type:'LOADING'})\r\n  const response = await fetch(url);\r\n  const cart = await response.json();\r\n  dispatch({type:'DISPLAY_ITEMS', payload:cart})\r\n}\r\n\r\n\r\n\r\n\r\nuseEffect(()=>{\r\n  fetchData();\r\n},[])\r\n\r\n\r\n\r\nuseEffect(()=>{\r\n  dispatch({type: 'GET_TOTALS'})\r\n\r\n},[ state.cart])\r\n\r\n\r\n  return (\r\n    <AppContext.Provider\r\n      value={{\r\n        //cart,\r\n        ...state,//spread out all state values loading cart totalt etc whats in initial state\r\n        clearCart,\r\n        remove,\r\n       // increase,\r\n       // decrease,\r\n        toggleAmount,\r\n      }}\r\n    >\r\n      {children}\r\n    </AppContext.Provider>\r\n  )\r\n}\r\n// make sure use\r\nexport const useGlobalContext = () => {\r\n  return useContext(AppContext)\r\n}\r\n\r\nexport { AppContext, AppProvider }\r\n","export default [\r\n  {\r\n    id: 1,\r\n    title: 'Samsung Galaxy S7',\r\n    price: 599.99,\r\n    img:\r\n      'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368215/phone-2_ohtt5s.png',\r\n    amount: 1,\r\n  },\r\n  {\r\n    id: 2,\r\n    title: 'google pixel ',\r\n    price: 499.99,\r\n    img:\r\n      'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583371867/phone-1_gvesln.png',\r\n    amount: 1,\r\n  },\r\n  {\r\n    id: 3,\r\n    title: 'Xiaomi Redmi Note 2',\r\n    price: 699.99,\r\n    img:\r\n      'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368224/phone-3_h2s6fo.png',\r\n    amount: 1,\r\n  },\r\n];\r\n","import React from 'react'\r\nimport { useGlobalContext } from './context'\r\nconst Navbar = () => {\r\n\r\n  const {amount} = useGlobalContext()\r\n  \r\n  return (\r\n    <nav>\r\n      <div className='nav-center'>\r\n        <h3>Phone-cart App</h3>\r\n        <div className='nav-container'>\r\n          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\r\n            <path d='M16 6v2h2l2 12H0L2 8h2V6a6 6 0 1 1 12 0zm-2 0a4 4 0 1 0-8 0v2h8V6zM4 10v2h2v-2H4zm10 0v2h2v-2h-2z' />\r\n          </svg>\r\n          <div className='amount-container'>\r\n            <p className='total-amount'>{amount}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Navbar\r\n","import React from 'react'\r\nimport { useGlobalContext } from './context'\r\nconst CartItem = ({ id, img, title, price, amount }) => {\r\n\r\n\r\nconst {remove,increase,decrease,toggleAmount} = useGlobalContext();\r\n\r\n\r\n\r\n\r\n  return (\r\n    <article className='cart-item'>\r\n      <img src={img} alt={title} />\r\n      <div>\r\n        <h4>{title}</h4>\r\n        <h4 className='item-price'>${price}</h4>\r\n        {/* remove button */}\r\n        <button\r\n          className='remove-btn'\r\n          onClick={() => remove(id)}\r\n        >\r\n          remove\r\n        </button>\r\n      </div>\r\n      <div>\r\n        {/* increase amount */}\r\n        <button className='amount-btn' onClick={() => /*increase(id)*/ toggleAmount(id,'inc')}>\r\n          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\r\n            <path d='M10.707 7.05L10 6.343 4.343 12l1.414 1.414L10 9.172l4.243 4.242L15.657 12z' />\r\n          </svg>\r\n        </button>\r\n        {/* amount */}\r\n        <p className='amount'>{amount}</p>\r\n        {/* decrease amount */}\r\n        <button className='amount-btn' onClick={() => /*decrease(id)*/ toggleAmount(id,'dec')}>\r\n          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\r\n            <path d='M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z' />\r\n          </svg>\r\n        </button>\r\n      </div>\r\n    </article>\r\n  )\r\n}\r\n\r\nexport default CartItem\r\n","import React from 'react'\r\nimport CartItem from './CartItem'\r\nimport { useGlobalContext } from './context'\r\n\r\nconst CartContainer = () => {\r\n  const { cart , total , clearCart} = useGlobalContext()\r\n\r\n  if (cart.length === 0) {\r\n    return (\r\n      <section className='cart'>\r\n        {/* cart header */}\r\n        <header>\r\n          <h2>your bag</h2>\r\n          <h4 className='empty-cart'>is currently empty</h4>\r\n        </header>\r\n      </section>\r\n    )\r\n  }\r\n  return (\r\n    <section className='cart'>\r\n      {/* cart header */}\r\n      <header>\r\n        <h2>your bag</h2>\r\n      </header>\r\n      {/* cart items */}\r\n      <div>\r\n        {cart.map((item) => {\r\n          return <CartItem key={item.id} {...item} />\r\n        })}\r\n      </div>\r\n      {/* cart footer */}\r\n      <footer>\r\n        <hr />\r\n        <div className='cart-total'>\r\n          <h4>\r\n            total <span>{total} $</span>\r\n          </h4>\r\n        </div>\r\n        <button\r\n          className='btn clear-btn'\r\n          onClick={clearCart}\r\n        >\r\n          clear cart\r\n        </button>\r\n      </footer>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default CartContainer\r\n","import React from 'react'\r\nimport { useGlobalContext } from './context'\r\n\r\n// components\r\nimport Navbar from './Navbar'\r\nimport CartContainer from './CartContainer'\r\n// items\r\n\r\nfunction App() {\r\n const {loading}= useGlobalContext();\r\n\r\n\r\n  if (loading) {\r\n     return (\r\n       <div className='loading'>\r\n        <h1>Loading...</h1>\r\n       </div>\r\n     )\r\n   }\r\n   \r\n  return (\r\n    <main>\r\n      <Navbar />\r\n      <CartContainer />\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { AppProvider } from './context';\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <AppProvider>\r\n      <App />\r\n    </AppProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}